<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="è°ˆä¸€è°ˆSpringBootæ€ä¹ˆä½¿ç”¨äº‹ä»¶æœºåˆ¶" />
    <meta name="hexo-theme-A4" content="v1.8.9" />
    <link rel="alternate icon" type="image/webp" href="/avatar.png">
    <title>mytianya | æ™šæ¥å¤©æ¬²é›ªï¼Œèƒ½é¥®ä¸€æ¯æ— </title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 6.3.0"></head>
    
    
    <body>
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/avatar.png" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">mytianya</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
            
                <li><a href="/tags/">æ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            è°ˆä¸€è°ˆSpringBootæ€ä¹ˆä½¿ç”¨äº‹ä»¶æœºåˆ¶
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="post-toc-text">è§‚å¯Ÿè€…æ¨¡å¼</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%8A%BD%E8%B1%A1%E4%B8%BB%E9%A2%98%E8%A7%92%E8%89%B2"><span class="post-toc-text">æŠ½è±¡ä¸»é¢˜è§’è‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%85%B7%E4%BD%93%E4%B8%BB%E9%A2%98%E8%A7%92%E8%89%B2"><span class="post-toc-text">å…·ä½“ä¸»é¢˜è§’è‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%8A%BD%E8%B1%A1%E8%A7%82%E5%AF%9F%E8%80%85%E8%A7%92%E8%89%B2"><span class="post-toc-text">æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%85%B7%E4%BD%93%E8%A7%82%E5%AF%9F%E8%80%85%E8%A7%92%E8%89%B2"><span class="post-toc-text">å…·ä½“è§‚å¯Ÿè€…è§’è‰²</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="post-toc-text">ä½¿ç”¨ä¸¾ä¾‹</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6"><span class="post-toc-text">äº‹ä»¶æœºåˆ¶</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%8A%B6%E6%80%81%E5%AF%B9%E8%B1%A1"><span class="post-toc-text">äº‹ä»¶çŠ¶æ€å¯¹è±¡</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E8%80%85"><span class="post-toc-text">äº‹ä»¶ç›‘å¬è€…</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Spring%E5%86%85%E7%BD%AE%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="post-toc-text">Springå†…ç½®çš„äº‹ä»¶å‘å¸ƒè®¢é˜…</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ApplicationEvent"><span class="post-toc-text">ApplicationEvent</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ApplicationListener"><span class="post-toc-text">ApplicationListener</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ApplicationEventMulticaster"><span class="post-toc-text">ApplicationEventMulticaster</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SpringBoot%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%9C%BA%E5%88%B6"><span class="post-toc-text">SpringBootå¦‚ä½•ä½¿ç”¨äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶</span></a></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/lightgallery.min.css" /><div class=".article-gallery"><h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><blockquote>
<p>å¯¹è±¡ä¹‹é—´å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œä¾èµ–å®ƒçš„å¯¹è±¡ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰åˆç§°å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆPublish-Subscribeï¼šPub&#x2F;Subï¼‰ã€‚å®ƒæ˜¯ä¸€ç§é€šçŸ¥æœºåˆ¶ï¼Œè®©å‘é€é€šçŸ¥çš„ä¸€æ–¹ï¼ˆè¢«è§‚å¯Ÿæ–¹ï¼‰å’Œæ¥æ”¶é€šçŸ¥çš„ä¸€æ–¹ï¼ˆè§‚å¯Ÿè€…ï¼‰èƒ½å½¼æ­¤åˆ†ç¦»ï¼Œäº’ä¸å½±å“ã€‚</p>
</blockquote>
<p>è§‚å¯Ÿè€…æ¨¡å¼ä¸»è¦ç”±ä»¥ä¸‹å››ä¸ªè§’è‰²ç»„æˆï¼Œåˆ†åˆ«æ˜¯æŠ½è±¡ä¸»é¢˜è§’è‰²ã€æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²ã€å…·ä½“ä¸»é¢˜è§’è‰²ã€å…·ä½“è§‚å¯Ÿè€…è§’è‰²ã€‚</p>
<h3 id="æŠ½è±¡ä¸»é¢˜è§’è‰²"><a href="#æŠ½è±¡ä¸»é¢˜è§’è‰²" class="headerlink" title="æŠ½è±¡ä¸»é¢˜è§’è‰²"></a>æŠ½è±¡ä¸»é¢˜è§’è‰²</h3><p>â€‹	æŠŠæ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡çš„å¼•ç”¨ä¿å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ¯ä¸ªæŠ½è±¡ä¸»é¢˜è§’è‰²éƒ½å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„è§‚å¯Ÿè€…ï¼ŒæŠ½è±¡ä¸»é¢˜æä¾›ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å¢åŠ å’Œåˆ é™¤è§‚å¯Ÿè€…è§’è‰²ï¼Œä¸€èˆ¬ç”¨ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£æ¥å®ç°ã€‚JDkå†…ç½®å®ç°çš„æŠ½è±¡ä¸»é¢˜è§’è‰²Observableç±»ã€‚</p>
<p><a href="/img/Observable.png" title="Observable" class="gallery-item" style="box-shadow: none;"> <img src="/img/Observable.png" alt="Observable"></a></p>
<h3 id="å…·ä½“ä¸»é¢˜è§’è‰²"><a href="#å…·ä½“ä¸»é¢˜è§’è‰²" class="headerlink" title="å…·ä½“ä¸»é¢˜è§’è‰²"></a>å…·ä½“ä¸»é¢˜è§’è‰²</h3><p>åœ¨å…·ä½“ä¸»é¢˜å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œç»™æ‰€æœ‰ç™»è®°è¿‡çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ï¼Œå…·ä½“ä¸»é¢˜è§’è‰²é€šå¸¸ç”¨ä¸€ä¸ªå­ç±»å®ç°ã€‚å†™ä¸€ä¸ªç±»(å…·ä½“ä¸»é¢˜è§’è‰²)ç»§æ‰¿Observableï¼ˆæŠ½è±¡ä¸»é¢˜è§’è‰²ï¼‰ï¼Œåªéœ€è¦å†™ä¸€ä¸ªchangeæ–¹æ³•å³å¯ (è¯¥æ–¹æ³•ä½œç”¨æ˜¯é€šçŸ¥å·²æ³¨å†Œçš„å…·ä½“ä¸»é¢˜è§’è‰²æ›´æ–°è‡ªå·±)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  å…·ä½“ä¸»é¢˜è§’è‰²(è¢«è§‚å¯Ÿè€…)ï¼Œåœ¨è‡ªèº«ä¸€äº›çŠ¶æ€å˜æ›´æ—¶é€šçŸ¥è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment"> *  è¿™é‡Œåº”ç”¨è¢«äººæ³¨å†Œäº†ï¼Œè§‚å¯Ÿè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> codehome</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppObservable</span> <span class="keyword">extends</span> <span class="title class_">Observable</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registry</span><span class="params">(String userName)</span> &#123;</span><br><span class="line">		setChanged();</span><br><span class="line">		notifyObservers(userName);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²"><a href="#æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²" class="headerlink" title="æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²"></a>æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²</h3><p>ä¸ºæ‰€æœ‰å…·ä½“çš„è§‚å¯Ÿè€…å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œåœ¨å¾—åˆ°ä¸»é¢˜çš„é€šçŸ¥æ—¶æ›´æ–°è‡ªå·±ã€‚JDKå†…ç½®çš„Observeræ¥å£ã€‚</p>
<p><a href="/img/Observable2.png" title="Observable2" class="gallery-item" style="box-shadow: none;"> <img src="/img/Observable2.png" alt="Observable2"></a></p>
<h3 id="å…·ä½“è§‚å¯Ÿè€…è§’è‰²"><a href="#å…·ä½“è§‚å¯Ÿè€…è§’è‰²" class="headerlink" title="å…·ä½“è§‚å¯Ÿè€…è§’è‰²"></a>å…·ä½“è§‚å¯Ÿè€…è§’è‰²</h3><p>è¯¥è§’è‰²å®ç°æŠ½è±¡è§‚å¯Ÿè€…è§’è‰²æ‰€è¦æ±‚çš„æ›´æ–°æ¥å£ï¼Œä»¥ä¾¿ä½¿æœ¬èº«çš„çŠ¶æ€ä¸ä¸»é¢˜çš„çŠ¶æ€ç›¸åè°ƒï¼Œå¦‚æœéœ€è¦ï¼Œå…·ä½“è§‚å¯Ÿè€…è§’è‰²å¯ä»¥æœ‰ä¸€ä¸ªæŒ‡å‘å…·ä½“ä¸»é¢˜è§’è‰²çš„å¼•ç”¨ï¼Œé€šå¸¸ç”¨ä¸€ä¸ªå­ç±»å®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…·ä½“è§‚å¯Ÿè€…ï¼Œå®ç°æ›´æ–°æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> codehome</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppWatcher</span> <span class="keyword">implements</span> <span class="title class_">Observer</span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Observable o, Object arg)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(o <span class="keyword">instanceof</span> AppObservable) &#123;</span><br><span class="line">			System.out.println(o);</span><br><span class="line">			System.out.println(arg);</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨ä¸¾ä¾‹"><a href="#ä½¿ç”¨ä¸¾ä¾‹" class="headerlink" title="ä½¿ç”¨ä¸¾ä¾‹"></a>ä½¿ç”¨ä¸¾ä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubPubDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">//ä¸»é¢˜è§’è‰²ï¼Œè¢«è§‚å¯Ÿè€…</span></span><br><span class="line">		AppObservable appObservable=<span class="keyword">new</span> <span class="title class_">AppObservable</span>();</span><br><span class="line">		<span class="comment">//è§‚å¯Ÿè€…</span></span><br><span class="line">		AppWatcher appWatcher=<span class="keyword">new</span> <span class="title class_">AppWatcher</span>();</span><br><span class="line">		<span class="comment">//æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">		appObservable.addObserver(appWatcher);</span><br><span class="line">		<span class="comment">//è°ƒç”¨æ›´æ–°æ–¹æ³•</span></span><br><span class="line">		appObservable.registry(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº‹ä»¶æœºåˆ¶"><a href="#äº‹ä»¶æœºåˆ¶" class="headerlink" title="äº‹ä»¶æœºåˆ¶"></a>äº‹ä»¶æœºåˆ¶</h2><blockquote>
<p>JDK 1.0åŠæ›´æ—©ç‰ˆæœ¬çš„äº‹ä»¶æ¨¡å‹åŸºäºèŒè´£é“¾æ¨¡å¼ï¼Œä½†æ˜¯è¿™ç§æ¨¡å‹ä¸é€‚ç”¨äºå¤æ‚çš„ç³»ç»Ÿï¼Œå› æ­¤åœ¨JDK 1.1åŠä»¥åçš„å„ä¸ªç‰ˆæœ¬ä¸­ï¼Œäº‹ä»¶å¤„ç†æ¨¡å‹é‡‡ç”¨åŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„å§”æ´¾äº‹ä»¶æ¨¡å‹(DelegationEvent Model, DEM)ï¼Œå³ä¸€ä¸ªJavaç»„ä»¶æ‰€å¼•å‘çš„äº‹ä»¶å¹¶ä¸ç”±å¼•å‘äº‹ä»¶çš„å¯¹è±¡è‡ªå·±æ¥è´Ÿè´£å¤„ç†ï¼Œè€Œæ˜¯å§”æ´¾ç»™ç‹¬ç«‹çš„äº‹ä»¶å¤„ç†å¯¹è±¡è´Ÿè´£ã€‚</p>
</blockquote>
<p>äº‹ä»¶æœºåˆ¶ä¸€èˆ¬éœ€è¦3ä¸ªè§’è‰²ï¼Œäº‹ä»¶è§¦å‘æº(event source)ã€äº‹ä»¶çŠ¶æ€å¯¹è±¡(event object)ã€äº‹ä»¶ç›‘å¬è€…(event listener)ã€‚</p>
<h3 id="äº‹ä»¶çŠ¶æ€å¯¹è±¡"><a href="#äº‹ä»¶çŠ¶æ€å¯¹è±¡" class="headerlink" title="äº‹ä»¶çŠ¶æ€å¯¹è±¡"></a>äº‹ä»¶çŠ¶æ€å¯¹è±¡</h3><p>JDKå†…ç½®çš„äº‹ä»¶çŠ¶æ€å¯¹è±¡EventObject,æŒæœ‰äº‹ä»¶è§¦å‘æºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EventObject</span> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">5516075349620653480L</span>;</span><br><span class="line">	<span class="comment">//äº‹ä»¶è§¦å‘æº</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">transient</span> Object  source;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EventObject</span><span class="params">(Object source)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (source == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;null source&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.source = source;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> source;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getClass().getName() + <span class="string">&quot;[source=&quot;</span> + source + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äº‹ä»¶ç›‘å¬è€…"><a href="#äº‹ä»¶ç›‘å¬è€…" class="headerlink" title="äº‹ä»¶ç›‘å¬è€…"></a>äº‹ä»¶ç›‘å¬è€…</h3><p>JDKå†…ç½®çš„äº‹ä»¶ç›‘å¬æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EventListener</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Springå†…ç½®çš„äº‹ä»¶å‘å¸ƒè®¢é˜…"><a href="#Springå†…ç½®çš„äº‹ä»¶å‘å¸ƒè®¢é˜…" class="headerlink" title="Springå†…ç½®çš„äº‹ä»¶å‘å¸ƒè®¢é˜…"></a>Springå†…ç½®çš„äº‹ä»¶å‘å¸ƒè®¢é˜…</h2><p>ä¸Šé¢ä»‹ç»äº†è§‚å¯Ÿè€…ä¸å‘å¸ƒè€…æ¨¡å¼ï¼Œä¸äº‹ä»¶æœºåˆ¶ã€‚ä¸¾ä¾‹æ€»ç»“æ¥è¯´å¦‚ä¸‹å›¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">è½¦/äº‹ä»¶è§¦å‘æº --æ›´æ–°çŠ¶æ€--&gt; åäº†/äº‹ä»¶çŠ¶æ€ --äº‹ä»¶ç®¡ç†å™¨é€šçŸ¥--&gt; è½¦ä¸»/äº‹ä»¶ç›‘å¬è€…</span><br></pre></td></tr></table></figure>

<h3 id="ApplicationEvent"><a href="#ApplicationEvent" class="headerlink" title="ApplicationEvent"></a>ApplicationEvent</h3><p>ApplicationEventå®ç°äº†JDKçš„EventObjectæ¥å£ï¼Œä¸ºäº‹ä»¶çŠ¶æ€ï¼ŒæŒæœ‰äº‹ä»¶è§¦å‘æºã€‚</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201447139.png" title="image-20210121201447139" class="gallery-item" style="box-shadow: none;"> <img src="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201447139.png" alt="image-20210121201447139"></a></p>
<h3 id="ApplicationListener"><a href="#ApplicationListener" class="headerlink" title="ApplicationListener"></a>ApplicationListener</h3><p>ApplicationListenerå®ç°äº†JDKçš„Eventlisteneræ¥å£ï¼Œä¸ºäº‹ä»¶ç›‘å¬è€…æ¥å£ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201343005.png" title="image-20210121201343005" class="gallery-item" style="box-shadow: none;"> <img src="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201343005.png" alt="image-20210121201343005"></a></p>
<h3 id="ApplicationEventMulticaster"><a href="#ApplicationEventMulticaster" class="headerlink" title="ApplicationEventMulticaster"></a>ApplicationEventMulticaster</h3><p>ApplicationEventMulticasterä¸ºäº‹ä»¶ç›‘å¬è€…ä¸äº‹ä»¶çŠ¶æ€çš„ç®¡ç†æ¥å£ï¼Œç®¡ç†äº‹ä»¶çŠ¶æ€ä¸ç›‘å¬å™¨çš„å…³ç³»ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201802357.png" title="image-20210121201802357" class="gallery-item" style="box-shadow: none;"> <img src="https://cdn.jsdelivr.net/gh/mytianya/public-imgbed/img/image-20210121201802357.png" alt="image-20210121201802357"></a></p>
<h2 id="SpringBootå¦‚ä½•ä½¿ç”¨äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶"><a href="#SpringBootå¦‚ä½•ä½¿ç”¨äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶" class="headerlink" title="SpringBootå¦‚ä½•ä½¿ç”¨äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶"></a>SpringBootå¦‚ä½•ä½¿ç”¨äº‹ä»¶å‘å¸ƒè®¢é˜…æœºåˆ¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»§æ‰¿ApplicationEventæ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªäº‹ä»¶çŠ¶æ€</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppStatusEvent</span> <span class="keyword">extends</span> <span class="title class_">ApplicationEvent</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new ApplicationEvent.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> source the object on which the event initially occurred (never &#123;<span class="doctag">@code</span> null&#125;)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    AppDO appDO;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AppStatusEvent</span><span class="params">(Object source,AppDO appDO)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(source);</span><br><span class="line">        <span class="built_in">this</span>.appDO=appDO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> AppDO <span class="title function_">getAppDO</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> appDO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›‘å¬å¯¹åº”äº‹ä»¶çš„äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppStatusListener</span> &#123;</span><br><span class="line">    <span class="meta">@EventListener</span></span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onApplicationEvent</span><span class="params">(AppStatusEvent event)</span>&#123;</span><br><span class="line">        AppDO appDO=event.getAppDO();</span><br><span class="line">        <span class="keyword">if</span>(AuthUtil.commomCheck(appDO))&#123;</span><br><span class="line">            log.info(<span class="string">&quot;&#123;&#125;è¢«ç¦ç”¨,å¼€å§‹å…³é—­ä¸imfç³»ç»Ÿçš„æ”¶å‘&quot;</span>,appDO.getAppName());</span><br><span class="line">            SessionUtil.forbidden(appDO.getAppCode());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘å¸ƒäº‹ä»¶</span></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">ApplicationEventPublisher eventPublisher;</span><br><span class="line">eventPublisher.publishEvent(<span class="keyword">new</span> <span class="title class_">AppStatusEvent</span>(<span class="built_in">this</span>,app));</span><br></pre></td></tr></table></figure>

<p><strong>åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚è¿™é‡Œæ˜¯SpringBootæ•™ç¨‹ç³»åˆ—å…³äºspringçš„äº‹ä»¶æœºåˆ¶ï¼Œæœ¬æ•™ç¨‹æ‰€æœ‰é¡¹ç›®æºç å‡å¯ä»¥åœ¨æˆ‘çš„<a target="_blank" rel="noopener" href="https://github.com/mytianya/springboot-tutorials" title="GitHub">GitHub</a>ä¸Šé¢ä¸‹è½½æºç ã€‚</strong></p>
</div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-09-25</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« mytianya</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/springboot/'>
                            springboot
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/java/'>
                            java
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
    </div> -->

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠæ™šæ¥å¤©æ¬²é›ªï¼Œèƒ½é¥®ä¸€æ¯æ— ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>


    <!--æš—é»‘æ¨¡å¼-->
    <script src="/js/darkmode-js.min.js"></script>
    <script>
        function addDarkmodeWidget() {
        const options = {
            bottom: '53px', // default: '32px'
            right: 'unset', // default: '32px'
            left: '42px', // default: 'unset'
            time: '0.3s', // default: '0.3s'
            mixColor: '#fff', // default: '#fff'
            backgroundColor: ' #e4e4e4 ',  // default: '#fff'
            buttonColorDark: '#100f2c',  // default: '#100f2c'
            buttonColorLight: '#fff', // default: '#fff'
            saveInCookies: true, // default: true,
            label: 'ğŸŒ“', // default: ''
            autoMatchOsTheme: true // default: true
        }
    
        const darkmode = new Darkmode(options);
        darkmode.showWidget();
        
        }
        window.addEventListener('load', addDarkmodeWidget);
    </script>
  
</html>